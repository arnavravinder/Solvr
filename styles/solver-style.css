:root {
    --dark-bg:#222831;
    --dark-accent:#31363F;
    --accent:#76ABAE;
    --light-text:#EEEEEE;
    --transition:0.3s;
    --font-sans:'Inter',sans-serif;
}

::-webkit-scrollbar {
    width:8px;
    background:#2A2A2A; 
}
::-webkit-scrollbar-thumb {
    background:#555;
    border-radius:0;
}
::-webkit-scrollbar-thumb:hover {
    background:#666;
}

.option-btn[data-letter="A"] { 
    background:transparent; 
    border:2px solid #2196F3;
    color:#2196F3;
}
.option-btn[data-letter="B"] { 
    background:transparent; 
    border:2px solid #F44336;
    color:#F44336;
}
.option-btn[data-letter="C"] { 
    background:transparent; 
    border:2px solid #4CAF50;
    color:#4CAF50;
}
.option-btn[data-letter="D"] { 
    background:transparent; 
    border:2px solid #FFC107;
    color:#FFC107;
}
.option-btn[data-letter="E"] { 
    background:transparent; 
    border:2px solid #9C27B0;
    color:#9C27B0;
}
.option-btn[data-letter="F"] { 
    background:transparent; 
    border:2px solid #E91E63;
    color:#E91E63;
}

.option-btn[data-letter="A"].selected { 
    background:#2196F3; 
    color:#fff;
}
.option-btn[data-letter="B"].selected { 
    background:#F44336; 
    color:#fff;
}
.option-btn[data-letter="C"].selected { 
    background:#4CAF50; 
    color:#fff;
}
.option-btn[data-letter="D"].selected { 
    background:#FFC107; 
    color:#000;
}
.option-btn[data-letter="E"].selected { 
    background:#9C27B0; 
    color:#fff;
}
.option-btn[data-letter="F"].selected { 
    background:#E91E63; 
    color:#fff;
}

body {
    margin:0;
    font-family:var(--font-sans);
    background:var(--dark-bg);
    color:var(--light-text);
    overflow:hidden; 
}

.navbar {
    display:flex;
    gap:1rem;
    background:var(--dark-accent);
    padding:1rem;
    align-items:center;
}
.navbar .logo-img {
    width:24px;
    height:24px;
}
.logo-text {
    font-weight:600;
    font-size:1.2rem;
    color:var(--accent);
    text-decoration:none;
}
.navbar a {
    color:var(--accent);
    text-decoration:none;
    font-weight:500;
}
.navbar a:hover {
    text-decoration:underline;
}

.timer-container {
    margin-left:auto;
    display:flex;
    align-items:center;
    gap:0.5rem;
}
.icon-btn {
    background:none;
    border:none;
    width:24px;
    height:24px;
    cursor:pointer;
    background-repeat:no-repeat;
    background-position:center;
    background-size:contain;
    transition:filter 0.2s;
}
.mini-btn {
    background:var(--accent);
    color:#EEE;
    border:none;
    padding:0.3rem 0.6rem;
    border-radius:4px;
    cursor:pointer;
    font-weight:500;
    font-size:0.75rem;
    transition:background var(--transition);
}
.mini-btn:hover {
    background:#86C0C3;
}

.loader-overlay {
    position:fixed;
    top:0;left:0;width:100%;height:100%;
    background:#76ABAE;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    z-index:9999;
}
.loader-img {
    width:80px;
    height:80px;
    animation:loaderAnim 1.5s infinite alternate ease-in-out;
}
@keyframes loaderAnim {
    0% { transform:scale(1); }
    100% { transform:scale(1.2); }
}
.loader-text {
    margin-top:1rem;
    color:#FFF;
    font-size:1.2rem;
    font-weight:600;
}

.main-container {
    display:flex;
    height:calc(100vh - 60px);
}
.pdf-viewer {
    flex:7;
    border-right:2px solid var(--accent);
    padding:0;
    position: relative;
    overflow: auto;
    background:var(--dark-bg);
}

.pdf-canvas-container {
    display: flex;
    justify-content: center;
    min-height: 100%;
    padding: 20px;
    box-sizing: border-box;
}

#pdf-canvas {
    background: white;
    box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

.pdf-controls {
    position: absolute;
    top: 15px;
    right: 15px;
    background: rgba(34, 40, 49, 0.8);
    padding: 10px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    gap: 10px;
    z-index: 10;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.pdf-toolbar {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(34, 40, 49, 0.8);
    padding: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 5;
}

.pdf-page-control {
    background: var(--accent);
    border: none;
    color: white;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 0.2s;
}

.pdf-page-control:hover {
    background: #86C0C3;
}

.pdf-page-info {
    color: white;
    font-size: 0.9rem;
    font-weight: 500;
    min-width: 80px;
    text-align: center;
}

.pdf-zoom-control {
    background: #444;
    border: none;
    color: white;
    width: 32px;
    height: 32px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 0.2s;
    font-size: 1.2rem;
    font-weight: bold;
}

.pdf-zoom-control:hover {
    background: #555;
}

.question-panel {
    flex:3;
    padding:1rem;
    overflow-y:auto;
    overflow-x:hidden; 
    background: var(--dark-accent);
}
.question-panel h2 {
    margin-top:0;
    color:var(--accent);
    margin-bottom:0.5rem;
}

.counters {
    display:flex;
    gap:0.5rem;
    margin-bottom:0.5rem;
    font-size:0.85rem;
}
.counter-box {
    background:#444;
    padding:0.4rem 0.8rem;
    border-radius:6px;
    text-align:center;
    min-width:60px;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
}
.counter-label {
    font-size:0.75rem;
    margin-bottom:0.2rem;
    white-space:nowrap;
    font-weight:500;
}
.counter-value {
    font-size:1rem;
    font-weight:600;
    margin:0;
}
.flag-icon {
    width:14px;
    height:14px;
    object-fit:contain;
}

.toggle-menu-btn {
    margin-bottom:0.5rem;
    width:24px;
    height:24px;
    border:none;
    cursor:pointer;
    transition:filter 0.2s;
    filter: invert(51%) sepia(16%) saturate(356%) hue-rotate(139deg) brightness(95%) contrast(92%);
}
.toggle-menu-btn:hover {
    filter: brightness(0.9) invert(51%) sepia(16%) saturate(356%) hue-rotate(139deg) brightness(95%) contrast(92%);
}
.down-icon {
    background:url('../assets/down.png') no-repeat center/contain;
}
.up-icon {
    background:url('../assets/up.png') no-repeat center/contain;
}

.question-grid {
    display:flex;
    flex-wrap:wrap;
    gap:0.3rem;
    margin-bottom:1rem;
}
.qnum-btn {
    width:22px;
    height:22px;
    display:flex;
    justify-content:center;
    align-items:center;
    background:#555;
    border:2px dotted #999;
    border-radius:4px;
    cursor:pointer;
    font-weight:600;
    color:#fff;
    transition:background 0.2s,border-color 0.2s;
    font-size:0.6rem;
}
.qnum-btn.answered {
    background:var(--accent);
    border-color:transparent;
}
.qnum-btn.flagged {
    background:#E91E63;
    border-color:transparent;
    color:#fff;
}
.qnum-btn:hover {
    filter:brightness(0.9);
}

#questions-container {
    display:flex;
    flex-direction:column;
    gap:1rem;
    margin-top:0.5rem;
}
.question-block {
    border:1px solid #666;
    padding:0.5rem;
    background:#444;
    position:relative;
    display:flex;
    flex-direction:column;
    gap:0.5rem;
}
.question-block h3 {
    margin-top:0;
    color:#EEE;
    margin-bottom:0.3rem;
}
.options {
    display:flex;
    flex-wrap:wrap;
    gap:0.4rem;
}
.option-btn {
    border:none;
    padding:0.4rem 0.6rem;
    border-radius:4px;
    cursor:pointer;
    font-weight:600;
    transition: all var(--transition);
    font-size:0.75rem;
}
.option-btn:hover {
    filter:brightness(0.9);
}

.flag-btn {
    position:absolute;
    top:8px;
    right:8px;
    width:20px;
    height:20px;
    border:none;
    cursor:pointer;
    background:url("../assets/flag.png") center/contain no-repeat;
    filter: grayscale(100%);
    transition:filter 0.2s,transform 0.2s;
}
.flag-btn.flagged {
    filter:none; 
    transform:scale(1.1);
}

.submit-btn {
    margin-top:1rem;
    padding:0.5rem 1rem;
    background:#4CAF50;
    color:#fff;
    font-weight:600;
    border:none;
    border-radius:4px;
    cursor:pointer;
    transition: background var(--transition);
    font-size:0.9rem;
}
.submit-btn:hover {
    background:#388E3C;
}

.scoreboard {
    padding:1rem;
}
.scoreboard h2 {
    margin-top:0;
    margin-bottom:1rem;
    text-align:center;
}
.scoreboard table {
    width:100%;
    border-collapse:collapse;
    margin-top:1rem;
    color:#EEE;
    background: var(--dark-accent);
}
.scoreboard th, .scoreboard td {
    border:1px solid #666;
    padding:0.5rem;
    text-align:center;
    font-size:0.9rem;
}
.answers-table tbody td.user-wrong {
    background:#F44336;
}

.popup-overlay {
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.6);
    display:none;
    justify-content:center;
    align-items:center;
    z-index:999;
}
.popup-content {
    background: var(--dark-accent);
    padding:1.5rem;
    border-radius:8px;
    text-align:center;
    color:#EEE;
    max-width:300px;
    width:100%;
}
.close-popup {
    margin-top:1rem;
    background: var(--accent);
    color:#EEE;
    border:none;
    padding:0.5rem 1rem;
    border-radius:4px;
    cursor:pointer;
    font-weight:500;
    transition: background var(--transition);
    font-size:0.8rem;
}
.close-popup:hover {
    background:#86C0C3;
}

@media (max-width: 1024px) {
    .main-container {
        flex-direction: column;
    }
    
    .pdf-viewer, .question-panel {
        flex: none;
        height: 50vh;
    }
}

@keyframes loaderAnim {
    0% { transform:scale(1); }
    100% { transform:scale(1.2); }
}